USE collegee;

CREATE TABLE student (
    rollno INT PRIMARY KEY,
    name VARCHAR(50),
    marks INT NOT NULL,
    grade VARCHAR(1),
    city VARCHAR(20)
);

INSERT INTO student (rollno, name, marks, grade, city)
VALUES
(101, 'anil', 78, 'C', 'Pune'),
(102, 'bhumika', 93, 'A', 'Mumbai'),
(103, 'chetan', 85, 'B', 'Mumbai'),
(104, 'dhruv', 96, 'A', 'Delhi'),
(105, 'emanuel', 12, 'F', 'Delhi'),
(106, 'farah', 82, 'B', 'Delhi');

-- ALTER (ADD, DROP, RENAME Table)
ALTER TABLE student
ADD COLUMN age INT NOT NULL;

-- deleting
ALTER TABLE student
DROP COLUMN age;

-- performing sample operations
ALTER TABLE student
ADD COLUMN age INT NOT NULL DEFAULT 19;

-- modify
ALTER TABLE student
MODIFY COLUMN age VARCHAR(2);

ALTER TABLE student
CHANGE age stu_age INT;

-- dropping column
ALTER TABLE student
DROP COLUMN stu_age;

-- renaming the table
ALTER TABLE stu
RENAME TO student;
 
-- inserting one more record which produces error varchar(2) can't accomodate 100.
INSERT INTO student
(rollno, name, marks, stu_age)
VALUES
(107, "gargi", 68, 100);

-- TRUNCATE
-- QUICK NOTE : DROP deletes the whole table but TRUNCATE deletes the data of a table
TRUNCATE TABLE student;

-- practice questions
-- A part (change the name of column "name" to "full_name")
ALTER TABLE student
CHANGE name full_name VARCHAR(50);

-- B part (delete all the students who scored marks less than 80)
SET SQL_SAFE_UPDATES = 0;

DELETE FROM student
WHERE marks < 80;

-- C part
ALTER TABLE student
DROP COLUMN grade;

SELECT * FROM student;
